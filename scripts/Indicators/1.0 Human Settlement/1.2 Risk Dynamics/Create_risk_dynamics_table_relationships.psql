-- script to generate relationships for risk dynamics

-- results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_hazard_susceptibility_t
-- add pkey
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_hazard_susceptibility_t DROP CONSTRAINT IF EXISTS risk_dynamics_hazard_susceptibility_t_pkey;
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_hazard_susceptibility_t ADD PRIMARY KEY("ghslID");

-- add fkey
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_hazard_susceptibility_t DROP CONSTRAINT IF EXISTS risk_dynamics_hazard_susceptibility_t_fkey;
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_hazard_susceptibility_t ADD CONSTRAINT risk_dynamics_hazard_susceptibility_t_fkey FOREIGN KEY ("ghslID") REFERENCES ghsl.ghsl_hazthreat_may2020_v1p2(ghslid);


-- results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_land_use_change_t
-- add pkey
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_land_use_change_t DROP CONSTRAINT IF EXISTS risk_dynamics_land_use_change_t_pkey;
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_land_use_change_t ADD PRIMARY KEY("ghslID");

-- add fkey
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_land_use_change_t DROP CONSTRAINT IF EXISTS risk_dynamics_land_use_change_t_fkey;
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_land_use_change_t ADD CONSTRAINT risk_dynamics_land_use_change_t_fkey FOREIGN KEY ("ghslID") REFERENCES ghsl.ghsl_hazthreat_may2020_v1p2(ghslid);


-- results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_population_growth_t
-- add pkey
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_population_growth_t DROP CONSTRAINT IF EXISTS risk_dynamics_population_growth_t_pkey;
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_population_growth_t ADD PRIMARY KEY("ghslID");

-- add fkey
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_population_growth_t DROP CONSTRAINT IF EXISTS risk_dynamics_population_growth_t_fkey;
ALTER TABLE results_ghsl_hazthreat_may2020_v1p2.risk_dynamics_population_growth_t ADD CONSTRAINT risk_dynamics_population_growth_t_fkey FOREIGN KEY ("ghslID") REFERENCES ghsl.ghsl_hazthreat_may2020_v1p2(ghslid);
